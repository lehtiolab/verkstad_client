(function(e){function t(t){for(var s,i,o=t[0],c=t[1],l=t[2],d=0,m=[];d<o.length;d++)i=o[d],n[i]&&m.push(n[i][0]),n[i]=0;for(s in c)Object.prototype.hasOwnProperty.call(c,s)&&(e[s]=c[s]);u&&u(t);while(m.length)m.shift()();return r.push.apply(r,l||[]),a()}function a(){for(var e,t=0;t<r.length;t++){for(var a=r[t],s=!0,o=1;o<a.length;o++){var c=a[o];0!==n[c]&&(s=!1)}s&&(r.splice(t--,1),e=i(i.s=a[0]))}return e}var s={},n={app:0},r=[];function i(t){if(s[t])return s[t].exports;var a=s[t]={i:t,l:!1,exports:{}};return e[t].call(a.exports,a,a.exports,i),a.l=!0,a.exports}i.m=e,i.c=s,i.d=function(e,t,a){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:a})},i.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var a=Object.create(null);if(i.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var s in e)i.d(a,s,function(t){return e[t]}.bind(null,s));return a},i.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="/";var o=window["webpackJsonp"]=window["webpackJsonp"]||[],c=o.push.bind(o);o.push=t,o=o.slice();for(var l=0;l<o.length;l++)t(o[l]);var u=c;r.push([0,"chunk-vendors"]),a()})({0:function(e,t,a){e.exports=a("56d7")},"034f":function(e,t,a){"use strict";var s=a("64a9"),n=a.n(s);n.a},"05e4":function(e,t,a){},2164:function(e,t,a){},"22cd":function(e,t,a){"use strict";var s=a("c87b"),n=a.n(s);n.a},2876:function(e,t,a){},3387:function(e,t,a){},3801:function(e,t,a){"use strict";var s=a("dbb6"),n=a.n(s);n.a},"3ecb":function(e,t,a){"use strict";var s=a("cb43"),n=a.n(s);n.a},"4a8c":function(e,t,a){},"4b3d":function(e,t,a){},"56d7":function(e,t,a){"use strict";a.r(t);a("cadf"),a("551c"),a("097d");var s=a("2b0e"),n=a("9f7b"),r=a("ecee"),i=a("c074"),o=a("ad3d"),c=a("31bd"),l=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{attrs:{id:"app"}},[a("Sidebar"),a("b-container",{staticClass:"wrapper",attrs:{fluid:""}},[a("router-view")],1)],1)},u=[],d=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("b-nav",{staticClass:"sidebar",attrs:{type:"dark"}},[a("div",{staticClass:"navbar-header"},[a("b-navbar-brand",{staticClass:"logo-wrapper",attrs:{to:"/"}},[a("font-awesome-icon",{attrs:{icon:"oil-can"}})],1),a("h5",{staticClass:"title"},[e._v("Verkstad")]),a("h6",{staticClass:"subtitle"},[e._v("Mass Spectrometer Maintenance")])],1),a("div",{staticClass:"navbar-body"},[a("b-nav-item",{attrs:{to:"/",exact:""}},[e._v("Home")]),a("b-nav-item",{attrs:{to:"/logbook"}},[e._v("Logbook")]),a("b-nav-item",{attrs:{to:"/tasks"}},[e._v("Tasks")]),a("b-nav-item",{attrs:{to:"/machines"}},[e._v("Machines")]),a("b-nav-item",{attrs:{to:"/users"}},[e._v("Users")])],1),a("div",{staticClass:"navbar-user"},[e.$store.state.user?a("b-nav-text",{staticClass:"user-name"},[e._v("\n      "+e._s(e.$store.state.user.name)+"\n    ")]):e._e(),e.$store.state.user?e._e():a("b-nav-item",{attrs:{to:"/login"}},[e._v("Login")]),e.$store.state.user?a("b-nav-item",{on:{click:e.logout}},[e._v("Logout")]):e._e()],1),a("div",{staticClass:"navbar-footer"},[a("b-nav-text",[a("router-link",{staticClass:"link-about",attrs:{to:"/about"}},[e._v("Lehtiö Lab "+e._s(e.year))])],1)],1)])},m=[],h={data:function(){return{year:(new Date).getFullYear()}},methods:{logout:function(){this.$store.dispatch("logout")}}},p=h,f=(a("6798"),a("2877")),v=Object(f["a"])(p,d,m,!1,null,"0e282f5a",null);v.options.__file="Sidebar.vue";var b=v.exports,g={name:"App",components:{Sidebar:b}},k=g,_=(a("034f"),Object(f["a"])(k,l,u,!1,null,null,null));_.options.__file="App.vue";var w=_.exports,y=a("8c4f"),x=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"task-wrapper"},[a("page-title-bar",{attrs:{title:"Home"}}),a("div",{staticClass:"description"}),a("b-alert",{attrs:{show:null!==e.message}},[e._v("\n    "+e._s(e.message)+"\n  ")]),e.machineTasksAvailable?a("div",{staticClass:"task-board"},[a("div",{staticClass:"task-box"},[a("h5",[e._v("Latest today")]),a("ol",{staticClass:"latest-today"},[e._l(e.orderedDueMachineTasks.today,function(e){return a("machine-task-card",{key:e.id,staticClass:"task-card",attrs:{data:e}})}),0===e.orderedDueMachineTasks.today.length?a("li",[a("b-alert",{attrs:{show:!0}},[a("div",[e._v("All tasks done for today.")]),1===(new Date).getDay()?a("div",[e._v("Not bad for a Monday!")]):e._e(),4===(new Date).getDay()?a("div",[e._v("It's Thursday, why not going for the pub?")]):e._e(),5===(new Date).getDay()?a("div",[e._v("Go home! It's almost weekend!")]):e._e()])],1):e._e()],2)]),a("div",{staticClass:"task-box"},[a("h5",[e._v("Upcoming")]),a("ol",{staticClass:"upcoming"},e._l(e.orderedDueMachineTasks.upcoming,function(e){return a("machine-task-card",{key:e.id,staticClass:"task-card",attrs:{data:e}})}),1)])]):e._e()],1)},T=[],C=(a("96cf"),a("3b8d")),I=a("2ef0"),$=a.n(I),D=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"bar"},[e.showBack?a("b-button",{staticClass:"btn-back",attrs:{to:{path:e.$store.state.route.from.fullPath}}},[a("font-awesome-icon",{attrs:{icon:"arrow-alt-circle-left"}})],1):e._e(),a("h1",[e._v(e._s(e.title))]),a("div",{staticClass:"date"},[e._v(e._s(e.today))])],1)},M=[],R=(a("28a5"),{name:"PageTitleBar",props:["title","showBack"],data:function(){return{today:null,days:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"]}},created:function(){var e=new Date;this.today=[this.days[e.getDay()],e.toISOString().split("T")[0]].join(", ")}}),O=R,P=(a("3801"),Object(f["a"])(O,D,M,!1,null,"6213b11f",null));P.options.__file="PageTitleBar.vue";var j=P.exports,E=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("li",{staticClass:"task-card"},[a("div",{staticClass:"task-color-bar",class:[e.data.dayDiff>-1?"bar-red":e.data.dayDiff>-7?"bar-yellow":"bar-blue"]}),a("div",{staticClass:"task-body",on:{click:e.showTaskDetails}},[a("h1",[e._v(e._s(e.data.machineTask.Task.name))]),a("div",{staticClass:"task-machine"},[e._v(e._s(e.data.machineTask.Machine.name))]),a("div",{staticClass:"task-latest"},[e._v("\n      Latest: "+e._s(e.data.nextDate.split("T")[0])+"\n      ("+e._s(Math.abs(e.data.dayDiff)<1?"less than one day ":Math.ceil(Math.abs(e.data.dayDiff))+" days ")+" left)\n    ")])]),a("b-button",{staticClass:"check-task",class:[e.data.dayDiff>-1?"bar-red":e.data.dayDiff>-7?"bar-yellow":"bar-blue"],attrs:{disabled:!Boolean(e.$store.state.token)},on:{click:e.checkTask}},[a("font-awesome-icon",{attrs:{icon:"check-circle"}})],1),a("b-button",{staticClass:"dismiss-task",class:[e.data.dayDiff>-1?"bar-red":e.data.dayDiff>-7?"bar-yellow":"bar-blue"],attrs:{disabled:!Boolean(e.$store.state.token)},on:{click:e.dismissTask}},[a("font-awesome-icon",{attrs:{icon:"times-circle"}})],1)],1)},S=[],L={name:"Login",props:["data"],methods:{checkTask:function(){this.$router.push({name:"workonmachinetask",params:{mode:"check",machineTaskId:this.data.machineTask.id}})},dismissTask:function(){this.$router.push({name:"workonmachinetask",params:{mode:"dismiss",machineTaskId:this.data.machineTask.id}})},showTaskDetails:function(){this.$router.push({name:"taskdetails",params:{taskId:this.data.machineTask.Task.id}})}}},N=L,Q=(a("80ce"),Object(f["a"])(N,E,S,!1,null,"00a14864",null));Q.options.__file="MachineTaskCard.vue";var B=Q.exports,A=a("bc3a"),U=a.n(A),F=a("f499"),q=a.n(F),z=a("2f62");s["a"].use(z["a"]);var K=new z["a"].Store({strict:!0,state:{user:JSON.parse(localStorage.getItem("user"))||null,token:localStorage.getItem("token")||null},mutations:{setUser:function(e,t){e.user=t.user,e.token=t.token,e.token?(localStorage.setItem("token",e.token),localStorage.setItem("user",q()(e.user))):(localStorage.removeItem("token"),localStorage.removeItem("user"))}},actions:{setUser:function(e,t){var a=e.commit;a("setUser",t)},logout:function(e){var t=e.commit;t("setUser",{user:null,token:null})}}}),W=function(){return U.a.create({baseURL:"http://localhost:8081/",headers:{Authorization:"Bearer ".concat(K.state.token)}})},H={index:function(){return W().get("/machinetasks")},machineTask:function(e){return W().get("/machinetask/".concat(e))}},J={name:"Home",components:{PageTitleBar:j,MachineTaskCard:B},data:function(){return{message:null,machineTasksAvailable:!1,dueMachineTasks:{today:null,upcoming:null},reloadInterval:6e4}},created:function(){var e=Object(C["a"])(regeneratorRuntime.mark(function e(){var t=this;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.loadMachineTasks();case 2:this.$options.interval=setInterval(Object(C["a"])(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.loadMachineTasks();case 2:case"end":return e.stop()}},e,this)})),this.reloadInterval);case 3:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}(),beforeDestroy:function(){clearInterval(this.$options.interval)},methods:{loadMachineTasks:function(){var e=Object(C["a"])(regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,H.index();case 3:t=e.sent.data.machineTasks,0===t.length?(this.machineTasksAvailable=!1,this.message="There are no upcoming tasks. Please define new tasks."):(this.dueMachineTasks.today=t.filter(function(e){return e.dayDiff>=-1}),this.dueMachineTasks.upcoming=t.filter(function(e){return e.dayDiff<-1}),this.machineTasksAvailable=!0,this.message=null),e.next=10;break;case 7:e.prev=7,e.t0=e["catch"](0),e.t0.response?this.message=e.t0.response.data.error:this.message="No connection to the server. Please contact an admin.";case 10:case"end":return e.stop()}},e,this,[[0,7]])}));function t(){return e.apply(this,arguments)}return t}()},computed:{orderedDueMachineTasks:function(){return{today:$.a.orderBy(this.dueMachineTasks.today,"dayDiff","desc"),upcoming:$.a.orderBy(this.dueMachineTasks.upcoming,"dayDiff","desc")}}}},Y=J,V=(a("fdbb"),Object(f["a"])(Y,x,T,!1,null,"6f865f08",null));V.options.__file="Home.vue";var G=V.exports,X=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"logbook-wrapper"},[a("page-title-bar",{attrs:{title:"Logbook"}}),a("div",{staticClass:"description"}),a("b-alert",{attrs:{show:null!==e.message}},[e._v("\n    "+e._s(e.message)+"\n  ")]),e.logs.length>0?a("b-table",{staticClass:"logs-table",attrs:{items:e.logs,fields:e.fields,"sort-by":"createdAt","sort-desc":!0,responsive:""},scopedSlots:e._u([{key:"status",fn:function(t){return["check"===t.value?a("font-awesome-icon",{staticStyle:{color:"darkseagreen"},attrs:{icon:"check-circle"}}):"dismiss"===t.value?a("font-awesome-icon",{staticStyle:{color:"lightcoral"},attrs:{icon:"times-circle"}}):e._e()]}},{key:"actions",fn:function(t){return[a("b-button",{directives:[{name:"show",rawName:"v-show",value:e.$store.state.token,expression:"$store.state.token"}],staticClass:"mr-2 btn-details",attrs:{size:"sm"},on:{click:function(a){a.stopPropagation(),e.showDetails(t.item)}}},[e._v("\n        Details\n      ")]),a("b-button",{directives:[{name:"show",rawName:"v-show",value:e.$store.state.token,expression:"$store.state.token"}],staticClass:"mr-2 btn-delete",attrs:{size:"sm"},on:{click:function(a){a.stopPropagation(),e.deleteLogRequest(t.item)}}},[e._v("\n        Delete\n      ")])]}}])}):e._e(),a("b-modal",{attrs:{id:"modalQuestion",title:"Delete log?"},on:{ok:e.deleteLog}},[a("p",[e._v("Do you really want to delete this log?")])])],1)},Z=[],ee={add:function(e){return W().post("/addlog",e)},index:function(){return W().get("/logbook")},log:function(e){return W().get("/log/".concat(e))},deleteLog:function(e){return W().delete("/deletelog/".concat(e))}},te={name:"Logbook",components:{PageTitleBar:j},data:function(){return{message:null,logs:[],fields:{status:{label:"",sortable:!1},task:{label:"Task",sortable:!0},machine:{label:"Machine",sortable:!0},createdAt:{label:"Done",sortable:!0,formatter:function(e){var t=new Date(e);return t.toISOString().split("T")[0]}},user:{label:"by",sortable:!0},actions:{label:"",sortable:!1}},modalQuestion:{id:null}}},created:function(){var e=Object(C["a"])(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.loadLogs();case 2:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}(),methods:{loadLogs:function(){var e=Object(C["a"])(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,ee.index();case 3:this.logs=e.sent.data,0===this.logs.length?this.message="There are no logs.":this.message=null,e.next=10;break;case 7:e.prev=7,e.t0=e["catch"](0),e.t0.response?this.message=e.t0.response.data.error:this.message="No connection to the server. Please contact an admin.";case 10:case"end":return e.stop()}},e,this,[[0,7]])}));function t(){return e.apply(this,arguments)}return t}(),showDetails:function(e){this.$router.push({name:"logdetails",params:{logId:e.id}})},deleteLogRequest:function(e){this.modalQuestion.id=e.id,this.$root.$emit("bv::show::modal","modalQuestion")},deleteLog:function(){var e=Object(C["a"])(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,ee.deleteLog(this.modalQuestion.id);case 3:return e.next=5,this.loadLogs();case 5:this.message=null,e.next=11;break;case 8:e.prev=8,e.t0=e["catch"](0),e.t0.response?this.message=e.t0.response.data.error:this.message="No connection to the server. Please contact an admin.";case 11:case"end":return e.stop()}},e,this,[[0,8]])}));function t(){return e.apply(this,arguments)}return t}()}},ae=te,se=(a("ce5c"),Object(f["a"])(ae,X,Z,!1,null,"7bc4133a",null));se.options.__file="Logbook.vue";var ne=se.exports,re=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"log-details"},[e.log?a("page-title-bar",{attrs:{title:e.log.task,showBack:!0}}):e._e(),e.log?e._e():a("page-title-bar",{attrs:{title:"Error",showBack:"true"}}),a("div",{staticClass:"description"}),a("b-alert",{attrs:{show:null!==e.message}},[e._v("\n    "+e._s(e.message)+"\n  ")]),e.log?a("table",{staticClass:"log-details-table"},[a("tr",[a("td",{staticClass:"row-title"},[e._v("Satus:")]),a("td",["check"===e.log.status?a("font-awesome-icon",{staticStyle:{color:"darkseagreen"},attrs:{icon:"check-circle"}}):e._e(),"dismiss"===e.log.status?a("font-awesome-icon",{staticStyle:{color:"lightcoral"},attrs:{icon:"times-circle"}}):e._e()],1)]),a("tr",[a("td",{staticClass:"row-title"},[e._v("Description:")]),a("td",[e._v(e._s(e.log.description))])]),a("tr",[a("td",{staticClass:"row-title"},[e._v("If not OK:")]),a("td",[e._v(e._s(e.log.repare))])]),a("tr",[a("td",{staticClass:"row-title"},[e._v("Interval:")]),a("td",[e._v("\n        "+e._s(e.log.interval+(1===e.log.interval?" day":" days"))+"\n      ")])]),a("tr",[a("td",{staticClass:"row-title"},[e._v("Machine:")]),a("td",[e._v(e._s(e.log.machine))])]),a("tr",[a("td",{staticClass:"row-title"},[e._v("Done:")]),a("td",[e._v(e._s(e.log.createdAt.split("T")[0]))])]),a("tr",[a("td",{staticClass:"row-title"},[e._v("By:")]),a("td",[e._v(e._s(e.log.user))])]),a("tr",{staticClass:"spacer"}),a("tr",[a("td",{staticClass:"row-title"},[e._v("Comment:")]),a("td",[e._v(e._s(e.log.comment))])])]):e._e()],1)},ie=[],oe={name:"LogDetails",components:{PageTitleBar:j},props:["logId"],data:function(){return{message:null,log:null}},created:function(){var e=Object(C["a"])(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,ee.log(this.logId);case 3:this.log=e.sent.data,this.message=null,e.next=10;break;case 7:e.prev=7,e.t0=e["catch"](0),e.t0.response?this.message=e.t0.response.data.error:this.message="No connection to the server. Please contact an admin.";case 10:case"end":return e.stop()}},e,this,[[0,7]])}));function t(){return e.apply(this,arguments)}return t}()},ce=oe,le=(a("22cd"),Object(f["a"])(ce,re,ie,!1,null,"5d8388c5",null));le.options.__file="LogDetails.vue";var ue=le.exports,de=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"users-wrapper"},[a("page-title-bar",{attrs:{title:"Users"}}),a("div",{staticClass:"description"}),a("b-alert",{attrs:{show:null!==e.message}},[e._v("\n    "+e._s(e.message)+"\n  ")]),e.users.length>0?a("b-table",{staticClass:"user-table",attrs:{items:e.users,fields:e.fields,responsive:""},scopedSlots:e._u([{key:"actions",fn:function(t){return[a("b-button",{staticClass:"mr-2 btn-delete",attrs:{size:"sm"},on:{click:function(a){a.stopPropagation(),e.deleteUserRequest(t.item)}}},[e._v("\n        Delete\n      ")])]}}])}):e._e(),!e.$store.state.user&&this.users.length>0?a("b-button",{staticClass:"btn-outlined",attrs:{to:"/login"}},[e._v("\n    Login\n  ")]):e._e(),a("b-button",{staticClass:"btn-outlined",attrs:{to:"/signup"}},[e._v("\n    Add user\n  ")]),a("b-modal",{attrs:{id:"modalQuestion",title:"Delete user?"},on:{ok:e.deleteUser}},[a("p",[e._v("Do you really want to kick out this user?")]),a("p",[a("strong",[e._v(e._s(e.modalQuestion.userName)),a("br"),e._v("\n       "+e._s(e.modalQuestion.userEMail))])]),e.$store.state.user?a("p",{directives:[{name:"show",rawName:"v-show",value:e.$store.state.user.email===e.modalQuestion.userEMail,expression:"$store.state.user.email === modalQuestion.userEMail"}],staticStyle:{color:"crimson","font-weight":"bold"}},[e._v("\n      Warning: You are going to delete yourself. If you continue,\n      you will be logged out automatically.\n    ")]):e._e()])],1)},me=[],he=(a("7f7f"),{signUp:function(e){return W().post("/signup",e)},login:function(e){return W().post("/login",e)},index:function(){return W().get("/users")},deleteUser:function(e){return W().delete("deleteuser/".concat(e))}}),pe={name:"Users",components:{PageTitleBar:j},data:function(){return{message:null,users:[],fields:{name:{label:"Name",sortable:!0},email:{label:"eMail"},createdAt:{label:"Created",sortable:!0,formatter:function(e){var t=new Date(e);return t.toISOString().split("T")[0]}},actions:{label:"",sortable:!1}},modalQuestion:{userId:null,userName:"",userEMail:""}}},created:function(){var e=Object(C["a"])(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.loadUsers();case 2:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}(),methods:{loadUsers:function(){var e=Object(C["a"])(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,he.index();case 3:this.users=e.sent.data,0===this.users.length?this.message="There are no users registered.":this.message=null,e.next=10;break;case 7:e.prev=7,e.t0=e["catch"](0),e.t0.response?this.message=e.t0.response.data.error:this.message="No connection to the server. Please contact an admin.";case 10:case"end":return e.stop()}},e,this,[[0,7]])}));function t(){return e.apply(this,arguments)}return t}(),deleteUserRequest:function(e){this.modalQuestion.userId=e.id,this.modalQuestion.userName=e.name,this.modalQuestion.userEMail=e.email,this.$root.$emit("bv::show::modal","modalQuestion")},deleteUser:function(){var e=Object(C["a"])(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,he.deleteUser(this.modalQuestion.userId);case 3:this.$store.state.user&&this.modalQuestion.userEMail===this.$store.state.user.email&&this.logout(),this.loadUsers(),this.message=null,e.next=11;break;case 8:e.prev=8,e.t0=e["catch"](0),e.t0.response?this.message=e.t0.response.data.error:this.message="No connection to the server. Please contact an admin.";case 11:case"end":return e.stop()}},e,this,[[0,8]])}));function t(){return e.apply(this,arguments)}return t}(),logout:function(){this.$store.dispatch("logout")}}},fe=pe,ve=(a("a4b1"),Object(f["a"])(fe,de,me,!1,null,"0284fd00",null));ve.options.__file="Users.vue";var be=ve.exports,ge=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("page-title-bar",{attrs:{title:"Sign up",showBack:!0}}),a("div",{staticClass:"description"},[e._v("Register a new user for this app by submitting the form below.")]),a("b-alert",{attrs:{show:null!==e.message}},[e._v("\n    "+e._s(e.message)+"\n  ")]),e.showForm?a("b-form",{attrs:{autocomplete:"off"},on:{submit:function(t){return t.preventDefault(),e.signUp(t)},reset:function(t){return t.preventDefault(),e.reset(t)}}},[a("b-form-group",{attrs:{id:"emailLabel",label:"eMail address:","label-for":"email"}},[a("b-form-input",{attrs:{id:"email",type:"email",required:"",placeholder:"Enter eMail"},model:{value:e.user.email,callback:function(t){e.$set(e.user,"email",t)},expression:"user.email"}})],1),a("b-form-group",{attrs:{id:"nameLabel",label:"Name:","label-for":"name"}},[a("b-form-input",{attrs:{id:"name",type:"text",required:"",placeholder:"Enter name"},model:{value:e.user.name,callback:function(t){e.$set(e.user,"name",t)},expression:"user.name"}})],1),a("b-form-group",{attrs:{id:"passwordLabel",label:"Password:","label-for":"password"}},[a("b-form-input",{attrs:{id:"password",type:"password",required:"",placeholder:"Enter password (>3 characters)"},model:{value:e.user.password,callback:function(t){e.$set(e.user,"password",t)},expression:"user.password"}})],1),a("b-button",{staticClass:"btn-outlined",attrs:{type:"submit"}},[e._v("Sign up")]),a("b-button",{staticClass:"btn-outlined",attrs:{type:"reset"}},[e._v("Reset")])],1):e._e()],1)},ke=[],_e={name:"Signup",components:{PageTitleBar:j},data:function(){return{user:{email:"",name:"",password:""},showForm:!0,message:null}},methods:{signUp:function(){var e=Object(C["a"])(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,he.signUp({email:this.user.email,name:this.user.name,password:this.user.password});case 3:this.message=null,this.$router.push({path:"/users"}),e.next=10;break;case 7:e.prev=7,e.t0=e["catch"](0),e.t0.response?this.message=e.t0.response.data.error:this.message="No connection to the server. Please contact an admin.";case 10:case"end":return e.stop()}},e,this,[[0,7]])}));function t(){return e.apply(this,arguments)}return t}(),reset:function(){var e=this;this.user.email="",this.user.name="",this.user.password="",this.message=null,this.showForm=!1,this.$nextTick(function(){e.showForm=!0})}}},we=_e,ye=(a("7d9d"),Object(f["a"])(we,ge,ke,!1,null,"5f53932c",null));ye.options.__file="Signup.vue";var xe=ye.exports,Te=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("page-title-bar",{attrs:{title:"Login",showBack:!0}}),a("div",{staticClass:"description"},[e._v("Come in and take care of your mass specs.")]),a("b-alert",{attrs:{show:null!==e.message}},[e._v("\n    "+e._s(e.message)+"\n  ")]),e.showForm?a("b-form",{on:{submit:function(t){return t.preventDefault(),e.login(t)},reset:function(t){return t.preventDefault(),e.reset(t)}}},[a("b-form-group",{attrs:{id:"emailLabel",label:"eMail address:","label-for":"email"}},[a("b-form-input",{attrs:{id:"email",type:"email",required:"",placeholder:"Enter eMail"},model:{value:e.user.email,callback:function(t){e.$set(e.user,"email",t)},expression:"user.email"}})],1),a("b-form-group",{attrs:{id:"passwordLabel",label:"Password:","label-for":"password"}},[a("b-form-input",{attrs:{id:"password",type:"password",required:"",placeholder:"Enter password"},model:{value:e.user.password,callback:function(t){e.$set(e.user,"password",t)},expression:"user.password"}})],1),a("b-button",{staticClass:"btn-outlined",attrs:{type:"submit"}},[e._v("Login")]),a("b-button",{staticClass:"btn-outlined",attrs:{type:"reset"}},[e._v("Reset")])],1):e._e()],1)},Ce=[],Ie={name:"Login",components:{PageTitleBar:j},data:function(){return{user:{email:"",password:""},showForm:!0,message:null}},methods:{login:function(){var e=Object(C["a"])(regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,he.login({email:this.user.email,password:this.user.password});case 3:t=e.sent,this.$store.dispatch("setUser",t.data),this.message=null,this.$router.push({name:this.$store.state.route.from.name}),e.next=12;break;case 9:e.prev=9,e.t0=e["catch"](0),e.t0.response?this.message=e.t0.response.data.error:this.message="No connection to the server. Please contact an admin.";case 12:case"end":return e.stop()}},e,this,[[0,9]])}));function t(){return e.apply(this,arguments)}return t}(),reset:function(){var e=this;this.user.email="",this.user.name="",this.user.password="",this.message=null,this.showForm=!1,this.$nextTick(function(){e.showForm=!0})}}},$e=Ie,De=(a("9df9"),Object(f["a"])($e,Te,Ce,!1,null,"d6bd4e76",null));De.options.__file="Login.vue";var Me=De.exports,Re=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"machines-wrapper"},[a("page-title-bar",{attrs:{title:"Machines"}}),a("div",{staticClass:"description"}),a("b-alert",{attrs:{show:null!==e.message}},[e._v("\n    "+e._s(e.message)+"\n  ")]),e.machines.length>0?a("b-table",{staticClass:"machines-table",attrs:{items:e.machines,fields:e.fields,responsive:""},scopedSlots:e._u([{key:"actions",fn:function(t){return[a("b-button",{directives:[{name:"show",rawName:"v-show",value:e.$store.state.token,expression:"$store.state.token"}],staticClass:"mr-2 btn-details",attrs:{size:"sm"},on:{click:function(a){a.stopPropagation(),e.editMachine(t.item)}}},[e._v("\n        Edit\n      ")]),e._e(),a("b-button",{directives:[{name:"show",rawName:"v-show",value:e.$store.state.token,expression:"$store.state.token"}],staticClass:"mr-2 btn-delete",attrs:{size:"sm"},on:{click:function(a){a.stopPropagation(),e.deleteMachineRequest(t.item)}}},[e._v("\n        Delete\n      ")])]}}])}):e._e(),a("b-button",{directives:[{name:"show",rawName:"v-show",value:e.$store.state.token,expression:"$store.state.token"}],staticClass:"btn-outlined",attrs:{to:"/addeditmachine/add"}},[e._v("\n    Add machine\n  ")]),a("b-modal",{attrs:{id:"modalQuestion",title:"Delete machine?"},on:{ok:e.deleteMachine,hide:e.resetModal}},[a("p",[e._v("Do you really want to delete this machine?")]),a("p",[a("strong",[e._v(e._s(e.modalQuestion.name))])]),a("p",[e._v("Please note: Deleting a machine can lead to tasks\n      without machine. Please control your task settings\n      after deletion.")])])],1)},Oe=[],Pe={add:function(e){return W().post("/addmachine",e)},index:function(){return W().get("/machines")},machine:function(e){return W().get("/machine/".concat(e))},update:function(e){return W().put("/updatemachine/".concat(e.id),e)},deleteMachine:function(e){return W().delete("deletemachine/".concat(e))}},je={name:"Machines",components:{PageTitleBar:j},data:function(){return{message:null,machines:[],fields:{name:{label:"Name",sortable:!0},type:{label:"Type",sortable:!0},kanteleId:{label:"Kantele ID",sortable:!0},createdAt:{label:"Created",sortable:!0,formatter:function(e){var t=new Date(e);return t.toISOString().split("T")[0]}},"User.name":{label:"by",sortable:!0},actions:{label:"",sortable:!1}},modalQuestion:{id:null,name:""}}},created:function(){var e=Object(C["a"])(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.loadMachines();case 2:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}(),methods:{loadMachines:function(){var e=Object(C["a"])(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Pe.index();case 3:this.machines=e.sent.data,0===this.machines.length?this.message="There are no machines.":this.message=null,e.next=10;break;case 7:e.prev=7,e.t0=e["catch"](0),e.t0.response?this.message=e.t0.response.data.error:this.message="No connection to the server. Please contact an admin.";case 10:case"end":return e.stop()}},e,this,[[0,7]])}));function t(){return e.apply(this,arguments)}return t}(),deleteMachineRequest:function(e){this.modalQuestion={id:e.id,name:e.name},this.$root.$emit("bv::show::modal","modalQuestion")},editMachine:function(e){this.$router.push({name:"addeditmachine",params:{machineId:e.id}})},showQC:function(e){this.$router.push({name:"machineqc",params:{machineId:e.id}})},deleteMachine:function(){var e=Object(C["a"])(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Pe.deleteMachine(this.modalQuestion.id);case 3:return e.next=5,this.loadMachines();case 5:this.message=null,e.next=11;break;case 8:e.prev=8,e.t0=e["catch"](0),e.t0.response?this.message=e.t0.response.data.error:this.message="No connection to the server. Please contact an admin.";case 11:case"end":return e.stop()}},e,this,[[0,8]])}));function t(){return e.apply(this,arguments)}return t}(),resetModal:function(){this.modalQuestion.name=""}}},Ee=je,Se=(a("d9dd"),Object(f["a"])(Ee,Re,Oe,!1,null,"aa70120c",null));Se.options.__file="Machines.vue";var Le=Se.exports,Ne=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",["add"===e.machineId?a("page-title-bar",{attrs:{title:"Add machine",showBack:!0}}):e._e(),"add"!==e.machineId?a("page-title-bar",{attrs:{title:e.machine.name,showBack:!0}}):e._e(),"add"===e.machineId?a("div",{staticClass:"description"},[e._v("Register a new mass spectrometer.")]):a("div",{staticClass:"description"},[e._v("Edit the mass spectrometer.")]),a("b-alert",{attrs:{show:null!==e.message}},[e._v("\n    "+e._s(e.message)+"\n  ")]),e.showForm?a("b-form",{attrs:{autocomplete:"off"},on:{submit:function(t){return t.preventDefault(),e.addEditMachine(t)},reset:function(t){return t.preventDefault(),e.reset(t)}}},[a("b-form-group",{attrs:{id:"nameLabel",label:"Name:","label-for":"name"}},[a("b-form-input",{attrs:{id:"name",type:"text",required:"",placeholder:"Enter name"},model:{value:e.machine.name,callback:function(t){e.$set(e.machine,"name",t)},expression:"machine.name"}})],1),a("b-form-group",{attrs:{id:"typeLabel",label:"Type:","label-for":"type"}},[a("b-form-input",{attrs:{id:"type",placeholder:"Enter type"},model:{value:e.machine.type,callback:function(t){e.$set(e.machine,"type",t)},expression:"machine.type"}})],1),a("b-form-group",{attrs:{id:"kanteleIdLabel",label:"Kantele ID:","label-for":"kanteleId",description:"Pleas ask your local admin."}},[a("b-form-input",{attrs:{id:"kanteleId",placeholder:"Enter Kantele ID"},model:{value:e.machine.kanteleId,callback:function(t){e.$set(e.machine,"kanteleId",t)},expression:"machine.kanteleId"}})],1),"add"===e.machineId?a("b-button",{staticClass:"btn-outlined",attrs:{type:"submit"}},[e._v("\n      Add machine\n    ")]):e._e(),"add"!==e.machineId?a("b-button",{staticClass:"btn-outlined",attrs:{type:"submit"}},[e._v("\n      Save changes\n    ")]):e._e(),a("b-button",{staticClass:"btn-outlined",attrs:{type:"reset"}},[e._v("Reset")])],1):e._e()],1)},Qe=[],Be={name:"AddEditMachine",components:{PageTitleBar:j},props:["machineId"],data:function(){return{machine:{name:"",type:"",kanteleId:null},showForm:!0,message:null}},created:function(){var e=Object(C["a"])(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:if("add"===this.machineId){e.next=4;break}return e.next=3,Pe.machine(this.machineId);case 3:this.machine=e.sent.data;case 4:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}(),methods:{addEditMachine:function(){var e=Object(C["a"])(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:if(e.prev=0,"add"!==this.machineId){e.next=6;break}return e.next=4,Pe.add(this.machine);case 4:e.next=8;break;case 6:return e.next=8,Pe.update(this.machine);case 8:this.message=null,this.$router.push({path:"/machines"}),e.next=15;break;case 12:e.prev=12,e.t0=e["catch"](0),e.t0.response?this.message=e.t0.response.data.error:this.message="No connection to the server. Please contact an admin.";case 15:case"end":return e.stop()}},e,this,[[0,12]])}));function t(){return e.apply(this,arguments)}return t}(),reset:function(){var e=this;this.machine.name="",this.machine.type="",this.message=null,this.showForm=!1,this.$nextTick(function(){e.showForm=!0})}}},Ae=Be,Ue=(a("a259"),Object(f["a"])(Ae,Ne,Qe,!1,null,"8a472bb2",null));Ue.options.__file="AddEditMachine.vue";var Fe=Ue.exports,qe=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"tasks-wrapper"},[a("page-title-bar",{attrs:{title:"Tasks"}}),a("div",{staticClass:"description"}),a("b-alert",{attrs:{show:null!==e.message}},[e._v("\n    "+e._s(e.message)+"\n  ")]),e.tasks.length>0?a("b-table",{staticClass:"tasks-table",attrs:{items:e.tasks,fields:e.fields,responsive:""},scopedSlots:e._u([{key:"actions",fn:function(t){return[a("b-button",{staticClass:"mr-2 btn-details",attrs:{size:"sm"},on:{click:function(a){a.stopPropagation(),e.showEdit(t.item)}}},[e._v("\n        Edit\n      ")]),a("b-button",{directives:[{name:"show",rawName:"v-show",value:e.$store.state.token,expression:"$store.state.token"}],staticClass:"mr-2 btn-delete",attrs:{size:"sm"},on:{click:function(a){a.stopPropagation(),e.deleteTaskRequest(t.item)}}},[e._v("\n        Delete\n      ")])]}}])}):e._e(),a("b-button",{directives:[{name:"show",rawName:"v-show",value:e.$store.state.token,expression:"$store.state.token"}],staticClass:"btn-outlined",attrs:{to:"/addedittask/add"}},[e._v("\n    Add task\n  ")]),a("b-modal",{attrs:{id:"modalQuestion",title:"Delete task?"},on:{ok:e.deleteTask}},[a("p",[e._v("Do you really want to delete this task?")]),a("p",[a("strong",[e._v(e._s(e.modalQuestion.name))])])])],1)},ze=[],Ke=(a("6b54"),{add:function(e){return W().post("/addtask",e)},update:function(e){return W().put("/updatetask/".concat(e.task.id),e)},index:function(){return W().get("/tasks")},deleteTask:function(e){return W().delete("deletetask/".concat(e))},task:function(e){return W().get("/task/".concat(e))}}),We={name:"Tasks",components:{PageTitleBar:j},data:function(){return{message:null,tasks:[],fields:{name:{label:"Name",sortable:!0},description:{label:"Description"},interval:{label:"Interval",sortable:!0,formatter:function(e){var t=1===e?" day":" days";return e.toString()+t}},createdAt:{label:"Created",sortable:!0,formatter:function(e){var t=new Date(e);return t.toISOString().split("T")[0]}},"User.name":{label:"by",sortable:!0},actions:{label:"",sortable:!1}},modalQuestion:{id:null,name:""}}},created:function(){var e=Object(C["a"])(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.loadTasks();case 2:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}(),methods:{loadTasks:function(){var e=Object(C["a"])(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Ke.index();case 3:this.tasks=e.sent.data,0===this.tasks.length?this.message="There are no tasks.":this.message=null,e.next=10;break;case 7:e.prev=7,e.t0=e["catch"](0),e.t0.response?this.message=e.t0.response.data.error:this.message="No connection to the server. Please contact an admin.";case 10:case"end":return e.stop()}},e,this,[[0,7]])}));function t(){return e.apply(this,arguments)}return t}(),deleteTaskRequest:function(e){this.modalQuestion.id=e.id,this.modalQuestion.name=e.name,this.$root.$emit("bv::show::modal","modalQuestion")},deleteTask:function(){var e=Object(C["a"])(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Ke.deleteTask(this.modalQuestion.id);case 3:return e.next=5,this.loadTasks();case 5:this.message=null,e.next=11;break;case 8:e.prev=8,e.t0=e["catch"](0),e.t0.response?this.message=e.t0.response.data.error:this.message="No connection to the server. Please contact an admin.";case 11:case"end":return e.stop()}},e,this,[[0,8]])}));function t(){return e.apply(this,arguments)}return t}(),showEdit:function(e){this.$router.push({name:"addedittask",params:{taskId:e.id}})}}},He=We,Je=(a("bba9"),Object(f["a"])(He,qe,ze,!1,null,"0d82ab78",null));Je.options.__file="Tasks.vue";var Ye=Je.exports,Ve=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",["add"===e.taskId?a("page-title-bar",{attrs:{title:"Add task",showBack:!0}}):e._e(),"add"!==e.taskId?a("page-title-bar",{attrs:{title:e.task.name,showBack:!0}}):e._e(),"add"===e.taskId?a("div",{staticClass:"description"},[e._v("Create a new maintenance task.")]):e._e(),"add"!==e.taskId?a("div",{staticClass:"description"},[e._v("Edit a maintenance task.")]):e._e(),a("b-alert",{attrs:{show:null!==e.message}},[e._v("\n    "+e._s(e.message)+"\n  ")]),e.showForm?a("b-form",{attrs:{autocomplete:"off"},on:{submit:function(t){return t.preventDefault(),e.addEditTask(t)},reset:function(t){return t.preventDefault(),e.reset(t)}}},[a("b-form-group",{attrs:{id:"nameLabel",label:"Name:","label-for":"name"}},[a("b-form-input",{attrs:{id:"name",type:"text",placeholder:"Must be unique",required:""},model:{value:e.task.name,callback:function(t){e.$set(e.task,"name",t)},expression:"task.name"}})],1),a("b-form-group",{attrs:{id:"descriptionLabel",label:"Description:","label-for":"description"}},[a("b-form-input",{attrs:{id:"description",placeholder:"What is the actual task?"},model:{value:e.task.description,callback:function(t){e.$set(e.task,"description",t)},expression:"task.description"}})],1),a("b-form-group",{attrs:{id:"machineLabel",label:"Select machines:","label-for":"machines",description:"add"!==e.taskId?"Changing the machine selection will rearrange tasks.":""}},[a("b-form-select",{attrs:{id:"machines",options:e.machines,multiple:""},model:{value:e.machineIds,callback:function(t){e.machineIds=t},expression:"machineIds"}})],1),a("b-form-group",{attrs:{id:"repareLabel",label:"If not OK:","label-for":"repare"}},[a("b-form-input",{attrs:{id:"repare",placeholder:"What to do?"},model:{value:e.task.repare,callback:function(t){e.$set(e.task,"repare",t)},expression:"task.repare"}})],1),a("b-form-group",{attrs:{id:"startLabel",label:"Start date:","label-for":"start",description:"If the start date is during a weekend,\n                    the task is postponed to the next Monday instead."}},[a("b-form-input",{ref:"start",attrs:{id:"start",type:"date"},model:{value:e.task.startDate,callback:function(t){e.$set(e.task,"startDate",t)},expression:"task.startDate"}})],1),a("b-form-group",{attrs:{id:"intervalLabel",label:"Interval:","label-for":"interval",description:"If the interval leads to a due date during a weekend,\n                    the task is postponed to the next Monday instead."}},[a("b-form-input",{attrs:{id:"interval",type:"number",placeholder:"in days"},model:{value:e.task.interval,callback:function(t){e.$set(e.task,"interval",t)},expression:"task.interval"}})],1),a("b-button",{staticClass:"btn-outlined",attrs:{type:"submit"}},[e._v("\n      "+e._s("add"===e.taskId?"Add task":"Save changes")+"\n    ")]),a("b-button",{staticClass:"btn-outlined",attrs:{type:"reset"}},[e._v("Reset")])],1):e._e()],1)},Ge=[],Xe=a("cebc"),Ze={name:"AddEditTask",components:{PageTitleBar:j},props:["taskId"],data:function(){return{task:{name:"",description:"",repare:"",startDate:"",interval:""},machineIds:[],machines:[],selectedMachines:[],showForm:!0,message:null}},created:function(){var e=Object(C["a"])(regeneratorRuntime.mark(function e(){var t,a;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Pe.index();case 2:if(t=e.sent.data,0===t.length&&(this.message="First you have to define a mass spec in the machines tab.",this.showForm=!1),this.machines=t.map(function(e){return{value:e.id,text:e.name}}),"add"===this.taskId){e.next=11;break}return e.next=8,Ke.task(this.taskId);case 8:a=e.sent.data,this.task=Object(Xe["a"])({},a,{startDate:a.startDate.split("T")[0]}),this.machineIds=this.task.MachineTasks.map(function(e){return e.Machine.id});case 11:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}(),methods:{addEditTask:function(){var e=Object(C["a"])(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:if(e.prev=0,"add"!==this.taskId){e.next=6;break}return e.next=4,Ke.add({task:this.task,machineIds:this.machineIds});case 4:e.next=8;break;case 6:return e.next=8,Ke.update({task:Object(Xe["a"])({id:this.taskId},this.task),machineIds:this.machineIds});case 8:this.message=null,this.$router.push({path:"/tasks"}),e.next=15;break;case 12:e.prev=12,e.t0=e["catch"](0),e.t0.response?this.message=e.t0.response.data.error:this.message="No connection to the server. Please contact an admin.";case 15:case"end":return e.stop()}},e,this,[[0,12]])}));function t(){return e.apply(this,arguments)}return t}(),reset:function(){var e=this;this.task.name="",this.task.description="",this.task.machineId=null,this.task.repare="",this.task.start="",this.task.interval="",this.message=null,this.showForm=!1,this.$nextTick(function(){e.showForm=!0})}}},et=Ze,tt=(a("9dc1"),Object(f["a"])(et,Ve,Ge,!1,null,"0dd80ad0",null));tt.options.__file="AddEditTask.vue";var at=tt.exports,st=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"task-details"},[e.task?a("page-title-bar",{attrs:{title:e.task.name,showBack:!0}}):e._e(),e.task?e._e():a("page-title-bar",{attrs:{title:"Error",showBack:"true"}}),a("div",{staticClass:"description"}),a("b-alert",{attrs:{show:null!==e.message}},[e._v("\n    "+e._s(e.message)+"\n  ")]),e.task?a("table",{staticClass:"task-details-table"},[a("tr",[a("td",{staticClass:"row-title"},[e._v("Description")]),a("td",[e._v(e._s(e.task.description))])]),a("tr",[a("td",{staticClass:"row-title"},[e._v("If not OK")]),a("td",[e._v(e._s(e.task.repare))])]),a("tr",[a("td",{staticClass:"row-title"},[e._v("First due date")]),a("td",[e._v(e._s(e.task.startDate.split("T")[0]))])]),a("tr",[a("td",{staticClass:"row-title"},[e._v("Interval")]),a("td",[e._v(e._s(e.task.interval+(1===e.task.interval?" day":" days")))])]),a("tr",[a("td",{staticClass:"row-title"},[e._v(e._s(1===e.machineNames.length?"Machine":"Machines"))]),a("td",[e._v(e._s(e.machineNames.join(", ")))])]),a("tr",[a("td",{staticClass:"row-title"},[e._v("Created")]),a("td",[e._v(e._s(e.task.createdAt.split("T")[0]))])]),a("tr",[a("td",{staticClass:"row-title"},[e._v("Created by")]),a("td",[e._v(e._s(e.task.User.name))])])]):e._e()],1)},nt=[],rt={name:"Tasks",components:{PageTitleBar:j},props:["taskId"],data:function(){return{message:null,task:null,machineNames:[]}},created:function(){var e=Object(C["a"])(regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Ke.task(this.taskId);case 3:this.task=e.sent.data,t=this.task.MachineTasks.map(function(e){return e.Machine.name}),this.machineNames=t.filter(function(e,t,a){return a.indexOf(e)===t}),this.message=null,e.next=12;break;case 9:e.prev=9,e.t0=e["catch"](0),e.t0.response?this.message=e.t0.response.data.error:this.message="No connection to the server. Please contact an admin.";case 12:case"end":return e.stop()}},e,this,[[0,9]])}));function t(){return e.apply(this,arguments)}return t}()},it=rt,ot=(a("e348"),Object(f["a"])(it,st,nt,!1,null,"aa55d99e",null));ot.options.__file="TaskDetails.vue";var ct=ot.exports,lt=function(){var e=this,t=e.$createElement,a=e._self._c||t;return e.machineTask?a("div",[a("page-title-bar",{attrs:{title:e.machineTask.Task.name,showBack:!0}}),"check"===e.mode?a("div",{staticClass:"description green-desc"},[a("font-awesome-icon",{attrs:{icon:"check-circle"}}),e._v("\n    The task has been successfully accomplished. Congrats!"),a("br")],1):e._e(),"dismiss"===e.mode?a("div",{staticClass:"description red-desc"},[a("font-awesome-icon",{attrs:{icon:"times-circle"}}),e._v("\n    There have been issues!\n  ")],1):e._e(),a("b-alert",{attrs:{show:null!==e.message}},[e._v("\n    "+e._s(e.message)+"\n  ")]),a("table",[a("tr",[a("td",{staticClass:"row-title"},[e._v("What to do:")]),a("td",[e._v(e._s(e.machineTask.Task.description))])]),a("tr",[a("td",{staticClass:"row-title"},[e._v("If not OK:")]),a("td",[e._v(e._s(e.machineTask.Task.repare))])]),a("tr",[a("td",{staticClass:"row-title"},[e._v("Machine:")]),a("td",[e._v(e._s(e.machineTask.Machine.name))])])]),e.showForm?a("b-form",{on:{submit:function(t){return t.preventDefault(),e.saveLog(t)},reset:function(t){return t.preventDefault(),e.reset(t)}}},[a("b-form-group",{attrs:{id:"commentLabel",label:"Comment:","label-for":"comment"}},[a("b-form-textarea",{class:["check"===e.mode?"green-textarea":"red-textarea"],attrs:{id:"comment",placeholder:"Enter some notes",rows:"3","no-resize":!0},model:{value:e.comment,callback:function(t){e.comment=t},expression:"comment"}})],1),a("b-button",{staticClass:"btn-outlined",attrs:{type:"submit"}},[e._v("Save")]),a("b-button",{staticClass:"btn-outlined",attrs:{type:"reset"}},[e._v("Reset")])],1):e._e()],1):e._e()},ut=[],dt={name:"WorkOnMachineTask",components:{PageTitleBar:j},props:["mode","machineTaskId"],data:function(){return{machineTask:null,comment:"",showForm:!0,message:null}},created:function(){var e=Object(C["a"])(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,H.machineTask(this.machineTaskId);case 2:this.machineTask=e.sent.data.machineTask;case 3:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}(),methods:{saveLog:function(){var e=Object(C["a"])(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,ee.add({status:this.mode,machineTaskId:this.machineTask.id,comment:this.comment});case 3:this.message=null,this.$router.push({path:"/"}),e.next=10;break;case 7:e.prev=7,e.t0=e["catch"](0),e.t0.response?this.message=e.t0.response.data.error:this.message="No connection to the server. Please contact an admin.";case 10:case"end":return e.stop()}},e,this,[[0,7]])}));function t(){return e.apply(this,arguments)}return t}(),reset:function(){var e=this;this.comment="",this.showForm=!1,this.$nextTick(function(){e.showForm=!0})}}},mt=dt,ht=(a("629b"),Object(f["a"])(mt,lt,ut,!1,null,"76e018a4",null));ht.options.__file="WorkOnMachineTask.vue";var pt=ht.exports,ft=function(){var e=this,t=e.$createElement,a=e._self._c||t;return e.machine?a("div",[a("page-title-bar",{attrs:{title:e.machine.name+" Quality Control",showBack:!0}}),a("div",{staticClass:"description"},[e._v("Quality control plots from Kantele.")]),a("b-alert",{attrs:{show:null!==e.message}},[e._v("\n    "+e._s(e.message)+"\n  ")])],1):e._e()},vt=[],bt=a("bc3a"),gt=bt.create({baseURL:"https://mozzarella.scilifelab.se/dash/"}),kt={getQCPlots:function(e){return gt.get("/longqc/".concat(e))}},_t={name:"MachineQC",components:{PageTitleBar:j},props:["machineId"],data:function(){return{message:null,machine:null,plots:null}},created:function(){var e=Object(C["a"])(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Pe.machine(this.machineId);case 3:this.machine=e.sent.data,0===this.machine.length?this.message="There are no machines.":this.machine.kanteleId?(this.loadPlots(),this.message=null):this.message="You have not provided a Kantele ID. No QC data can be fetched.",e.next=10;break;case 7:e.prev=7,e.t0=e["catch"](0),e.t0.response?this.message=e.t0.response.data.error:this.message="No connection to the server. Please contact an admin.";case 10:case"end":return e.stop()}},e,this,[[0,7]])}));function t(){return e.apply(this,arguments)}return t}(),methods:{loadPlots:function(){var e=Object(C["a"])(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,kt.getQCPlots(this.machine.kanteleId);case 3:this.plots=e.sent.data,this.message=null,e.next=10;break;case 7:e.prev=7,e.t0=e["catch"](0),e.t0.response?this.message=e.t0.response.data.error:this.message="No connection to the server. Please contact an admin.";case 10:case"end":return e.stop()}},e,this,[[0,7]])}));function t(){return e.apply(this,arguments)}return t}()}},wt=_t,yt=Object(f["a"])(wt,ft,vt,!1,null,"34902cfc",null);yt.options.__file="MachineQC.vue";var xt=yt.exports,Tt=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("page-title-bar",{attrs:{title:"About this app"}}),a("div",{staticClass:"description"},[e._v("Verkstad – The mass spec maintenance app.")]),a("br"),e._m(0),a("br"),e._m(1),e._m(2),a("br"),a("p",[e._v("\n    Please note: The server is logging request information from this app.\n  ")])],1)},Ct=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("p",[e._v("\n    This app was created by Matthias Stahl in the\n    "),a("a",{attrs:{href:"http://lehtiolab.se"}},[e._v("Lehtiö laboratory")]),e._v("\n    at "),a("a",{attrs:{href:"http://ki.se"}},[e._v("Karolinska Institutet")]),e._v(" in winter 2019.\n  ")])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("p",[e._v("\n    Client code: "),a("a",{attrs:{href:"https://github.com/mtstahl/verkstad_client"}},[e._v("github.com/mtstahl/verkstad_client")])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("p",[e._v("\n    Server code: "),a("a",{attrs:{href:"https://github.com/mtstahl/verkstad_server"}},[e._v("github.com/mtstahl/verkstad_server")])])}],It={name:"About",components:{PageTitleBar:j}},$t=It,Dt=(a("3ecb"),Object(f["a"])($t,Tt,Ct,!1,null,"9d5611e2",null));Dt.options.__file="About.vue";var Mt=Dt.exports;s["a"].use(y["a"]);var Rt=new y["a"]({mode:"history",hash:!1,routes:[{path:"/",name:"home",component:G},{path:"/logbook",name:"logbook",component:ne},{path:"/logdetails/:logId",name:"logdetails",component:ue,props:!0},{path:"/users",name:"users",component:be},{path:"/signup",name:"signup",component:xe},{path:"/login",name:"login",component:Me},{path:"/machines",name:"machines",component:Le},{path:"/addeditmachine/:machineId",name:"addeditmachine",component:Fe,props:!0},{path:"/tasks",name:"tasks",component:Ye},{path:"/addedittask/:taskId",name:"addedittask",component:at,props:!0},{path:"/taskdetails/:taskId",name:"taskdetails",component:ct,props:!0},{path:"/workonmachinetask/:mode/:machineTaskId",name:"workonmachinetask",component:pt,props:!0},{path:"/machineqc/:machineId",name:"machineqc",component:xt,props:!0},{path:"/about",name:"about",component:Mt},{path:"*",redirect:"/"}]});a("f9e3"),a("2dd8");s["a"].config.productionTip=!1,s["a"].use(n["a"]),Object(c["sync"])(K,Rt),r["c"].add(i["c"]),r["c"].add(i["a"]),r["c"].add(i["b"]),r["c"].add(i["d"]),s["a"].component("font-awesome-icon",o["a"]),new s["a"]({router:Rt,store:K,render:function(e){return e(w)}}).$mount("#app")},"618f":function(e,t,a){},"629b":function(e,t,a){"use strict";var s=a("7435"),n=a.n(s);n.a},"64a9":function(e,t,a){},6798:function(e,t,a){"use strict";var s=a("4a8c"),n=a.n(s);n.a},7435:function(e,t,a){},"7d9d":function(e,t,a){"use strict";var s=a("618f"),n=a.n(s);n.a},"80ce":function(e,t,a){"use strict";var s=a("05e4"),n=a.n(s);n.a},"92e0":function(e,t,a){},9401:function(e,t,a){},"9dc1":function(e,t,a){"use strict";var s=a("f2d1"),n=a.n(s);n.a},"9df9":function(e,t,a){"use strict";var s=a("2876"),n=a.n(s);n.a},a259:function(e,t,a){"use strict";var s=a("4b3d"),n=a.n(s);n.a},a4b1:function(e,t,a){"use strict";var s=a("3387"),n=a.n(s);n.a},a668:function(e,t,a){},bba9:function(e,t,a){"use strict";var s=a("2164"),n=a.n(s);n.a},c87b:function(e,t,a){},cb43:function(e,t,a){},ce5c:function(e,t,a){"use strict";var s=a("92e0"),n=a.n(s);n.a},d9dd:function(e,t,a){"use strict";var s=a("ff97"),n=a.n(s);n.a},dbb6:function(e,t,a){},e348:function(e,t,a){"use strict";var s=a("9401"),n=a.n(s);n.a},f2d1:function(e,t,a){},fdbb:function(e,t,a){"use strict";var s=a("a668"),n=a.n(s);n.a},ff97:function(e,t,a){}});
//# sourceMappingURL=app.76b7ffd1.js.map